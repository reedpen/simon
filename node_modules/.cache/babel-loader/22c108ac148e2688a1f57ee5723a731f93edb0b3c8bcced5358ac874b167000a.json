{"ast":null,"code":"import _slicedToArray from\"C:/Users/reede/Desktop/dev/cs260/startup/simon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{NavLink,Route,Routes}from'react-router-dom';import{Login}from'./login/login';import{Play}from'./play/play';import{Scores}from'./scores/scores';import{About}from'./about/about';import{AuthState}from'./login/authState';import'bootstrap/dist/css/bootstrap.min.css';import'./app.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _React$useState=React.useState(localStorage.getItem('userName')||''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];// Asynchronously determine if the user is authenticated by calling the service\nvar _React$useState3=React.useState(AuthState.Unknown),_React$useState4=_slicedToArray(_React$useState3,2),authState=_React$useState4[0],setAuthState=_React$useState4[1];React.useEffect(function(){if(userName){fetch(\"/api/user/\".concat(userName)).then(function(response){if(response.status===200){return response.json();}}).then(function(user){var state=user!==null&&user!==void 0&&user.authenticated?AuthState.Authenticated:AuthState.Unauthenticated;setAuthState(state);});}else{setAuthState(AuthState.Unauthenticated);}},[userName]);return/*#__PURE__*/_jsxs(\"div\",{className:\"body bg-dark text-light\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar fixed-top navbar-dark\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-brand\",children:[\"Simon\",/*#__PURE__*/_jsx(\"sup\",{children:\"\\xAE\"})]}),/*#__PURE__*/_jsxs(\"menu\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"\",children:\"Login\"})}),authState===AuthState.Authenticated&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"play\",children:\"Play\"})}),authState===AuthState.Authenticated&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"scores\",children:\"Scores\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"about\",children:\"About\"})})]})]})}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Login,{userName:userName,authState:authState,onAuthChange:function onAuthChange(userName,authState){setAuthState(authState);setUserName(userName);}}),exact:true}),/*#__PURE__*/_jsx(Route,{path:\"/play\",element:/*#__PURE__*/_jsx(Play,{userName:userName})}),/*#__PURE__*/_jsx(Route,{path:\"/scores\",element:/*#__PURE__*/_jsx(Scores,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-dark text-dark text-muted\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-reset\",children:\"Reed Pennock\"}),/*#__PURE__*/_jsx(\"a\",{className:\"text-reset\",href:\"https://github.com/reederpen/simon\",children:\"Source\"})]})})]});}function NotFound(){return/*#__PURE__*/_jsx(\"main\",{className:\"container-fluid bg-secondary text-center\",children:\"404: Return to sender. Address unknown.\"});}export default App;","map":{"version":3,"names":["React","NavLink","Route","Routes","Login","Play","Scores","About","AuthState","App","useState","localStorage","getItem","userName","setUserName","Unknown","authState","setAuthState","useEffect","fetch","then","response","status","json","user","state","authenticated","Authenticated","Unauthenticated","NotFound"],"sources":["C:/Users/reede/Desktop/dev/cs260/startup/simon/src/app.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nimport { NavLink, Route, Routes } from 'react-router-dom';\r\nimport { Login } from './login/login';\r\nimport { Play } from './play/play';\r\nimport { Scores } from './scores/scores';\r\nimport { About } from './about/about';\r\nimport { AuthState } from './login/authState';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './app.css';\r\n\r\nfunction App() {\r\n  const [userName, setUserName] = React.useState(localStorage.getItem('userName') || '');\r\n\r\n  // Asynchronously determine if the user is authenticated by calling the service\r\n  const [authState, setAuthState] = React.useState(AuthState.Unknown);\r\n  React.useEffect(() => {\r\n    if (userName) {\r\n      fetch(`/api/user/${userName}`)\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then((user) => {\r\n          const state = user?.authenticated ? AuthState.Authenticated : AuthState.Unauthenticated;\r\n          setAuthState(state);\r\n        });\r\n    } else {\r\n      setAuthState(AuthState.Unauthenticated);\r\n    }\r\n  }, [userName]);\r\n\r\n  return (\r\n    <div className='body bg-dark text-light'>\r\n      <header className='container-fluid'>\r\n        <nav className='navbar fixed-top navbar-dark'>\r\n          <div className='navbar-brand'>\r\n            Simon<sup>&reg;</sup>\r\n          </div>\r\n          <menu className='navbar-nav'>\r\n            <li className='nav-item'>\r\n              <NavLink className='nav-link' to=''>\r\n                Login\r\n              </NavLink>\r\n            </li>\r\n            {authState === AuthState.Authenticated && (\r\n              <li className='nav-item'>\r\n                <NavLink className='nav-link' to='play'>\r\n                  Play\r\n                </NavLink>\r\n              </li>\r\n            )}\r\n            {authState === AuthState.Authenticated && (\r\n              <li className='nav-item'>\r\n                <NavLink className='nav-link' to='scores'>\r\n                  Scores\r\n                </NavLink>\r\n              </li>\r\n            )}\r\n            <li className='nav-item'>\r\n              <NavLink className='nav-link' to='about'>\r\n                About\r\n              </NavLink>\r\n            </li>\r\n          </menu>\r\n        </nav>\r\n      </header>\r\n\r\n      <Routes>\r\n        <Route\r\n          path='/'\r\n          element={\r\n            <Login\r\n              userName={userName}\r\n              authState={authState}\r\n              onAuthChange={(userName, authState) => {\r\n                setAuthState(authState);\r\n                setUserName(userName);\r\n              }}\r\n            />\r\n          }\r\n          exact\r\n        />\r\n        <Route path='/play' element={<Play userName={userName} />} />\r\n        <Route path='/scores' element={<Scores />} />\r\n        <Route path='/about' element={<About />} />\r\n        <Route path='*' element={<NotFound />} />\r\n      </Routes>\r\n\r\n      <footer className='bg-dark text-dark text-muted'>\r\n        <div className='container-fluid'>\r\n          <span className='text-reset'>Reed Pennock</span>\r\n          <a className='text-reset' href='https://github.com/reederpen/simon'>\r\n            Source\r\n          </a>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction NotFound() {\r\n  return <main className='container-fluid bg-secondary text-center'>404: Return to sender. Address unknown.</main>;\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}